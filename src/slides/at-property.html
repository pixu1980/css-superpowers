<section>
  <section>
    <h4><mark>@property</mark> definition</h4>
    <h5>and the CSS Properties and Values API</h5>
    <small class="fragment">
      <p>
        Introduced by Chrome in August 2020,<br />
        and fully supported across browsers<br />
        since <mark>July 2024</mark><br />
        <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@property" target="_blank" rel="noopener noreferrer">
          (@property DOCS)
        </a>
        <br />
        <a
          href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Properties_and_Values_API"
          target="_blank"
          rel="noopener noreferrer"
        >
          (CSS Properties and Values API DOCS)
        </a>
      </p>
    </small>
  </section>
  <section>
    <h4>Registering a variable via CSS</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@property --coffee-color {
  syntax: "&lt;color&gt;";
  inherits: false;
  initial-value: #c0ffee;
}
      </code>
    </pre>
  </section>
  <section>
    <h4>Registering a variable via JS</h4>
    <pre>
      <code class="hljs javascript" data-trim data-line-numbers>
window.CSS.registerProperty({
  name: "--coffee-color",
  syntax: "&lt;color&gt;",
  inherits: false,
  initialValue: "#c0ffee",
});
      </code>
    </pre>
  </section>
  <section>
    <h4>Differences between registered and unregistered variables</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
.unregistered {
  --unregistered--coffee-color: #c0ffee;
  background-image: linear-gradient(to right, #fff, var(--unregistered--coffee-color));
  transition: --unregistered--coffee-color 1s ease-in-out;

  &:hover,
  &:focus {
    --unregistered--coffee-color: #b4d455;
  }
}

.registered {
  --coffee-color: #c0ffee;
  background-image: linear-gradient(to right, #fff, var(--coffee-color));
  transition: --coffee-color 1s ease-in-out;

  &:hover,
  &:focus {
    --coffee-color: #b4d455;
  }
}
      </code>
    </pre>
  </section>
  <section>
    <h4>Example with registered vs unregistered properties</h4>
    <small>
      <p>in combination with CSS transitions</p>
    </small>
    <p registered-comparison>
      <button class="unregistered">Background Not Registered</button>
      <button class="registered">Background Registered</button>
    </p>
    <pre>
      <code class="hljs html" data-trim data-line-numbers>
&lt;button class="unregistered"&gt;Background Not Registered&lt;/button&gt;
&lt;button class="registered"&gt;Background Registered&lt;/button&gt;
      </code>
    </pre>
  </section>
  <section>
    <h4>Animations with registered properties</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@property --intro--color--fade {
  initial-value: #b19cd8;
  inherits: false;
  syntax: '&lt;color&gt;';
}

:root {
  --intro--color--purple-400: #b19cd8;
  --intro--color--cyan-400: #87dbff;
  --intro--color--green-400: #4fd4ae;
  --intro--color--yellow-400: #fdd45b;
  --intro--color--red-400: #e86a58;
}
      </code>
    </pre>
  </section>
  <section>
    <h4>Animations with registered properties</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@keyframes intro {
  0% {
    --intro--color--fade: var(--intro--color--purple-400);
  }
  25% {
    --intro--color--fade: var(--intro--color--cyan-400);
  }
  50% {
    --intro--color--fade: var(--intro--color--green-400);
  }
  75% {
    --intro--color--fade: var(--intro--color--yellow-400);
  }
  100% {
    --intro--color--fade: var(--intro--color--red-400);
  }
}
      </code>
    </pre>
  </section>
  <section>
    <h4>Animations with registered properties</h4>
    <pre>
        <code class="hljs css" data-trim data-line-numbers>
h2 {
  --stagger--delay: 300ms;
  --stagger--index: 0;

  span {
    color: var(--intro--color--fade);
    animation: intro 5s linear calc(var(--stagger--delay) * var(--stagger--index)) infinite alternate;

    &:nth-child(1) { --stagger--index: 0; } // S
    &:nth-child(2) { --stagger--index: 1; } // u
    &:nth-child(3) { --stagger--index: 2; } // p
    &:nth-child(4) { --stagger--index: 3; } // e
    &:nth-child(5) { --stagger--index: 4; } // r
    &:nth-child(6) { --stagger--index: 5; } // p
    &:nth-child(7) { --stagger--index: 6; } // o
    &:nth-child(8) { --stagger--index: 7; } // w
    &:nth-child(9) { --stagger--index: 8; } // e
    &:nth-child(10) { --stagger--index: 9; } // r
    &:nth-child(11) { --stagger--index: 10; } // s
  }
}
        </code>
      </pre>
  </section>
  <section intro>
    <h4>Animations with registered properties</h4>
    <h2>
      <span>S</span><span>u</span><span>p</span><span>e</span><span>r</span><span>p</span><span>o</span><span>w</span
      ><span>e</span><span>r</span><span>s</span>
    </h2>
    <pre>
      <code class="hljs html" data-trim data-line-numbers>
&lt;h2&gt;
  &lt;span&gt;S&lt;/span&gt;
  &lt;span&gt;u&lt;/span&gt;
  &lt;span&gt;p&lt;/span&gt;
  &lt;span&gt;e&lt;/span&gt;
  &lt;span&gt;r&lt;/span&gt;
  &lt;span&gt;p&lt;/span&gt;
  &lt;span&gt;o&lt;/span&gt;
  &lt;span&gt;w&lt;/span&gt;
  &lt;span&gt;e&lt;/span&gt;
  &lt;span&gt;r&lt;/span&gt;
  &lt;span&gt;s&lt;/span&gt;
&lt;/h2&gt;
      </code>
    </pre>
  </section>
  <section>
    <h4>TODO</h4>
    <p>
      https://codepen.io/pixu1980/pen/jOgrpyY<br />
      https://codepen.io/pixu1980/pen/vYoKjdd<br />
      https://codepen.io/pixu1980/pen/YzmWjNX<br />
      https://codepen.io/pixu1980/pen/wvVWxgd<br />
      https://codepen.io/pixu1980/pen/bGXejgR<br />
      https://codepen.io/pixu1980/pen/NWQrBdv<br />
      https://codepen.io/jh3y/pen/yLdgMmP
    </p>
  </section>
</section>

<section>
  <section>
    <h4>CSS Layers</h4>
    <small>
      <p><mark>@layer</mark></p>
      <p class="fragment">
        Introduced by Firefox in February 2022,<br />
        and fully supported across browsers<br />
        since March 2022<br />
        <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@layer" target="_blank" rel="noopener noreferrer">
          (DOCS)
        </a>
      </p>
    </small>
  </section>

  <section>
    <p>CSS Layers Example</p>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@layer reset {
  * {
    box-sizing: border-box;
    ...
  }
}

@layer components {
  button {
    border-size: 1px solid lightgray;
  }
}

@layer layout {
  body {
    display: grid;
    grid-template-areas:
      'header header'
      'aside main'
      'footer footer';
  }
}

    </code></pre>
  </section>

  <section>
    <p>Layers Order</p>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@layer reset, layout, components;
      </code>
    </pre>
  </section>

  <section>
    <p>Layers depths levels</p>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@layer ui {
  @layer button {
    :root {
      --button--font-size: 18px;
    }

    button {
      font-size: var(--button--font-size);
    }
  }

  @layer input {
    :root {
      --input--font-size: 20px;
    }

    input {
      font-size: var(--input--font-size);
    }
  } 
}
      </code>
    </pre>
  </section>

  <section>
    <p>Reverse Cascade</p>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
:root {
  --ui--font-size: 10px;
}
      
@layer ui {
  :root {
    --ui--font-size: 16px;
  }
 
  @layer button {
    :root {
      --ui--font-size: 18px;
    }

    button {
      font-size: var(--ui--font-size);
    }
  }

  @layer input {
    :root {
      --ui--font-size: 20px;
    }

    input {
      font-size: var(--ui--font-size);
    }
  }
}
      </code>
    </pre>
  </section>

  <section>
    <img src="./assets/reverse-cascade.gif" style="width: 50%" />
    <br />
    <h4>
      Look at me Ma'...<br />
      i'm <mark>reversing waterfalls</mark> like Shiryu
    </h4>
  </section>

  <section>
    <h4>That's awesome, but...</h4>
    <p class="fragment">What about <mark>old CSS codebase</mark> and <mark>third party dependencies</mark>?</p>
  </section>

  <section>
    <h4>The <mark>layer()</mark> function will be your best friend</h4>
  </section>

  <section>
    <h4>@import ... layer() pattern</h4>
    <pre>
      <code class="hljs css" data-trim data-line-numbers>
@layer old-library, other-old-library, new-library;

@import 'path-to-old-library-styles.css' layer(old-library);
@import 'path-to-old-library-styles.theme.css' layer(old-library);
@import 'path-to-other-old-library-styles.css' layer(other-old-library);
        
@layer new-library {
  ...
}
      </code>
    </pre>
  </section>
</section>
